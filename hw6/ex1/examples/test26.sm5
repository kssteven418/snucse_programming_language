[push 0;
malloc;
bind i;
push i;
store;
push 1;
malloc;
bind #for_start;
push #for_start;
store;
push 3;
malloc;
bind #for_end;
push #for_end;
store;
push (#whlie_var,
  [bind @while_func;
  push #for_end;
  load;
  push #for_start;
  load;
  less;
  not;
  jtr (
    [push #for_start;
    load;
    push i;
    store;
    push i;
    load;
    pop;
    push 1;
    malloc;
    bind #for_start;
    push #for_start;
    store;
    push 3;
    malloc;
    bind #for_end;
    push #for_end;
    store;
    push (#whlie_var,
      [bind @while_func;
      push #for_end;
      load;
      push #for_start;
      load;
      less;
      not;
      jtr (
        [push #for_start;
        load;
        push i;
        store;
        push i;
        load;
        pop;
        push i;
        load;
        malloc;
        bind x;
        push x;
        store;
        push (#whlie_var,
          [bind @while_func;
          push 0;
          push x;
          load;
          less;
          jtr (
            [push x;
            load;
            malloc;
            bind #write_var;
            push #write_var;
            store;
            push #write_var;
            load;
            put;
            push #write_var;
            load;
            unbind;
            pop;
            pop;
            push x;
            load;
            push 1;
            sub;
            push x;
            store;
            push x;
            load;
            pop;
            push @while_func;
            push @while_func;
            push unit;
            malloc;
            call],
            [push unit]);
          unbind;
          pop]
          );
        bind @while_func;
        push @while_func;
        push @while_func;
        push unit;
        malloc;
        call;
        unbind;
        pop;
        unbind;
        pop;
        pop;
        push #for_start;
        load;
        push 1;
        add;
        push #for_start;
        store;
        push #for_start;
        load;
        pop;
        push @while_func;
        push @while_func;
        push unit;
        malloc;
        call],
        [push unit]);
      unbind;
      pop]
      );
    bind @while_func;
    push @while_func;
    push @while_func;
    push unit;
    malloc;
    call;
    unbind;
    pop;
    unbind;
    pop;
    unbind;
    pop;
    pop;
    push #for_start;
    load;
    push 1;
    add;
    push #for_start;
    store;
    push #for_start;
    load;
    pop;
    push @while_func;
    push @while_func;
    push unit;
    malloc;
    call],
    [push unit]);
  unbind;
  pop]
  );
bind @while_func;
push @while_func;
push @while_func;
push unit;
malloc;
call;
unbind;
pop;
unbind;
pop;
unbind;
pop;
unbind;
pop]
