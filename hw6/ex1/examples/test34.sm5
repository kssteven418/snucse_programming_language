[push 0;
malloc;
bind prev_glob;
push prev_glob;
store;
push (x,
  [bind print_fib;
  push (cur,
    [bind print_fib_helper;
    push cur;
    load;
    push x;
    load;
    less;
    jtr (
      [push prev_glob;
      load;
      malloc;
      bind prev_tmp;
      push prev_tmp;
      store;
      malloc;
      bind #write_var;
      push cur;
      load;
      push #write_var;
      store;
      push #write_var;
      load;
      put;
      push #write_var;
      load;
      unbind;
      pop;
      pop;
      push cur;
      load;
      push prev_glob;
      store;
      push prev_glob;
      load;
      pop;
      push print_fib_helper;
      push print_fib_helper;
      push cur;
      load;
      push prev_tmp;
      load;
      add;
      malloc;
      call;
      unbind;
      pop],
      [push unit]);
    unbind;
    pop]
    );
  bind print_fib_helper;
  push print_fib_helper;
  push print_fib_helper;
  push 1;
  malloc;
  call;
  unbind;
  pop;
  unbind;
  pop]
  );
bind print_fib;
push 0;
malloc;
bind x;
push x;
store;
get;
push x;
store;
push x;
load;
pop;
push print_fib;
push print_fib;
push x;
load;
malloc;
call;
unbind;
pop;
unbind;
pop;
unbind;
pop]
